:root { --fg:#0f172a; --bg:#fff; --muted:#64748b; --border:#e5e7eb; --primary:#2563eb; }
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:Arial,Helvetica,sans-serif}
/* Lebarkan form agar tabel bisa muat nyaman di layar laptop kantor */
.wrapper{max-width:1400px;width:96%;margin:16px auto;padding:8px}
.wrapper.editing table td input,.wrapper.editing table td textarea{background:#fff}
.grid{display:grid;gap:12px;grid-template-columns:2fr 1.2fr 1.8fr;align-items:end}
label.small{font-size:12px;color:var(--muted)}
input,textarea,select{border:1px solid var(--border);border-radius:6px;padding:8px;font-size:14px;width:100%;box-sizing:border-box}
/* Jangan membesarkan checkbox */
input:not([type="checkbox"]):not([type="radio"]),
select{height:38px}
input[type="checkbox"]{height:16px;width:16px;vertical-align:middle;accent-color:var(--primary)}
td:nth-child(6) label{display:flex;align-items:center;gap:6px;margin:2px 0}
textarea{min-height:64px}
table{width:100%;border-collapse:collapse}
th,td{border-top:1px solid var(--border);padding:8px;text-align:left;vertical-align:top}
thead th{position:sticky;top:0;background:#f8fafc;z-index:1}
.scroll table tr:nth-child(even){background:#fafafa}
.toolbar{display:flex;gap:8px;justify-content:space-between;align-items:center;margin:8px 0}
.btn{padding:8px 12px;border-radius:6px;border:1px solid var(--border);background:#f8f9fb;cursor:pointer;transition:all .15s}
.btn:hover{filter:brightness(.97)}
.btn.primary{background:var(--primary);color:#fff;border-color:var(--primary)}
.btn.primary:hover{filter:brightness(1.05)}
.sr{color:var(--muted);font-size:12px}
.scroll{max-height:70vh;overflow:auto;border:1px solid var(--border);border-radius:6px}
.signature{margin:12px 0}
.sig-wrap{border:1px dashed var(--border);border-radius:6px;padding:8px;background:#fff}
canvas#ttd_ts,canvas#ttd_store{display:block;width:100%;height:180px;border:1px solid var(--border);border-radius:4px;background:#fff;touch-action:none}
.sig-tools{margin-top:8px}
.sig-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.sig-grid .signature{margin:0}
.sig-tools input[type="text"]{width:240px}
.sig-tools input[type="file"]{background:#fff}
.toolbar.bottom{margin-top:12px}
@media print{.toolbar,.sr{display:none}body{background:#fff}table{page-break-inside:auto}tr{page-break-inside:avoid}}

/* Responsive tweaks */
@media (max-width: 1024px){
  .grid{grid-template-columns:1fr 1fr}
  .sig-grid{grid-template-columns:1fr}
}
@media (max-width: 640px){
  .wrapper{padding:12px}
  .grid{grid-template-columns:1fr}
  table{font-size:13px}
  /* Hindari auto-zoom iOS saat fokus */
  input,textarea,select{font-size:16px}
  .btn{padding:8px 10px}
}

.form-head{display:flex;align-items:center;gap:12px;margin-bottom:8px}
.form-logo{width:auto;height:44px;object-fit:contain;border-radius:6px}

/* Extra fields per item (usia/repair) */
.extra-box{margin-top:6px}
.extra-row{display:flex;flex-wrap:wrap;gap:6px;margin-top:4px}
.extra-row label{font-size:11px;color:var(--muted)}
.extra-row input[type="text"],.extra-row input[type="date"],.extra-row input[type="number"]{
  border:1px solid var(--border);border-radius:4px;padding:4px 6px;font-size:12px
}
.extra-row .w-28{width:110px}
.extra-row .w-44{width:180px}
.extra-sep{height:1px;background:var(--border);margin:6px 0}

/* Precision for Merk & SN cell */
.sn-wrap{display:flex;align-items:center;gap:8px}
.sn-wrap input.sn{flex:1;min-width:300px;height:40px;padding:12px;border:1px solid var(--border);border-radius:6px;font-size:15px;box-sizing:border-box}
.sn-wrap .btn{padding:6px 8px;font-size:12px}
.sn-wrap .btn.icon{width:32px;height:32px;display:flex;align-items:center;justify-content:center;padding:0}

/* Make table cells comfortable */
tbody td{vertical-align:top}
thead th{white-space:nowrap}

@media (max-width: 900px){
  .sn-wrap input.sn{min-width:170px}
  .extra-row .w-44{width:150px}
}

/* Sembunyikan kolom "No" tanpa mengubah indeks kolom lain */
thead th:first-child, tbody td:first-child{display:none}

/* Fallback style when sn-wrap not present (static rows) */
tbody td:nth-child(4) input[type="text"]{
  width:100%; min-width:300px; height:40px; padding:12px; font-size:15px; box-sizing:border-box; border-radius:6px;
}

/* Watermark dev */
.dev-watermark{position:fixed;right:8px;bottom:8px;background:rgba(0,0,0,.55);color:#fff;padding:6px 10px;border-radius:8px;font-size:11px;z-index:60;pointer-events:none;user-select:none;box-shadow:0 2px 8px rgba(0,0,0,.15)}

/* Mode kartu untuk smartphone: tabel jadi stack rapi per baris */
@media (max-width: 640px){
  .scroll{max-height:none;border:none}
  .scroll table{display:block}
  .scroll thead{display:none}
  .scroll tbody{display:block}
  .scroll tbody tr{display:block;border:1px solid var(--border);border-radius:8px;background:#fff;margin:10px 0;overflow:hidden}
  .scroll tbody td{display:flex;gap:8px;justify-content:space-between;align-items:flex-start;padding:10px 12px;border-top:1px solid var(--border)}
  .scroll tbody td:first-child{border-top:none}
  .scroll tbody td::before{content:"";font-weight:600;color:var(--muted);min-width:120px;max-width:45%;}
  .scroll tbody td:nth-child(1)::before{content:"No"}
  .scroll tbody td:nth-child(2)::before{content:"Lokasi"}
  .scroll tbody td:nth-child(3)::before{content:"Hardware"}
  .scroll tbody td:nth-child(4)::before{content:"Merk & SN"}
  .scroll tbody td:nth-child(5)::before{content:"Panduan"}
  .scroll tbody td:nth-child(6)::before{content:"Kondisi"}
  .scroll tbody td:nth-child(7)::before{content:"Keterangan"}
  /* Input lebar penuh di dalam kartu */
  .scroll tbody td input,.scroll tbody td textarea{width:100%}
  /* Rapikan checkbox agar horizontal jika muat */
  .scroll tbody td:nth-child(6) label{display:inline-flex;margin-right:12px}
  /* Tanda tangan tinggi lebih pendek di HP */
  canvas#ttd_ts,canvas#ttd_store{height:140px}
}
